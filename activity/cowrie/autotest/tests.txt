# generated from tests.py by /home/cs1521/public_html/19T3/scripts/autotest_update_from_solution
max_cpu=10
max_wall_clock=20
# have to run sanitizers separately because we are using unistd.h
compilers="dcc -fsanitize=address -Werror"
checkers=./check_features_used.sh
# don't ask
compiler_args='`ls *.c`' -o cowrie
files=cowrie.c
command="./cowrie"
shell=1
subset0_000 stdin="exit\n" description="exit"
subset0_001 stdin="cd /tmp\npwd\ncd /dev\npwd\n" description="cd /tmp; pwd; cd /dev; pwd" expected_stdout="current directory is '/tmp'\ncurrent directory is '/dev'\n"
command="mkdir -p sub_dir; HOME=$(pwd)/sub_dir ./cowrie |sed 's?/tmp/.*/?/tmp/?'"
subset0_002 stdin="cd\npwd\n" description="cd; pwd" expected_stdout="current directory is '/tmp/sub_dir'\n"
command="./cowrie"
subset0_003 stdin="cd /this_directory_does_not_exist\n" description="cd /this_directory_does_not_exist" expected_stderr="cd: /this_directory_does_not_exist: No such file or directory\n"
command="./cowrie"
subset1_100 stdin="/bin/echo absolute pathnames start with /\n" description="/bin/echo absolute pathnames start with /" expected_stdout="absolute pathnames start with /\n/bin/echo exit status = 0\n"
subset1_101 stdin="/usr/bin/echo will fail\n" description="/usr/bin/echo will fail" expected_stderr="/usr/bin/echo: command not found\n"
subset1_102 stdin="cd /bin\n./echo relative pathnames start with .\n" description="cd /bin; ./echo relative pathnames start with ." expected_stdout="relative pathnames start with .\n./echo exit status = 0\n"
subset1_103 stdin="cd /dev\n../bin/echo or ..\n" description="cd /dev; ../bin/echo or .." expected_stdout="or ..\n../bin/echo exit status = 0\n"
subset1_104 stdin="cd /usr/lib\n../../bin/echo or ../..\n" description="cd /usr/lib; ../../bin/echo or ../.." expected_stdout="or ../..\n../../bin/echo exit status = 0\n"
subset1_105 stdin="./echo  will fail\n" description="./echo  will fail" expected_stderr="./echo: command not found\n"
subset1_106 stdin="cd /usr/lib\n../bin/echo will fail\n" description="cd /usr/lib; ../bin/echo will fail" expected_stderr="../bin/echo: command not found\n"
subset1_107 stdin="ls -s /dev/null\ncd /dev\n/bin/ls -s null\npwd\n" description="ls -s /dev/null; cd /dev; /bin/ls -s null; pwd" expected_stdout="0 /dev/null\n/bin/ls exit status = 0\n0 null\n/bin/ls exit status = 0\ncurrent directory is '/dev'\n"
subset1_108 stdin="ls -s /dev/null\n" description="ls -s /dev/null" expected_stdout="0 /dev/null\n/bin/ls exit status = 0\n"
subset1_109 stdin="lss -s /dev/null\n" description="lss -s /dev/null" expected_stderr="lss: command not found\n"
subset1_110 stdin="echo hello cowrie\n" description="echo hello cowrie" expected_stdout="hello cowrie\n/bin/echo exit status = 0\n"
subset1_111 stdin="false\n" description="false" expected_stdout="/bin/false exit status = 1\n"
subset1_112 stdin="ls -error\n" description="ls -error" expected_stdout="/bin/ls exit status = 2\n" expected_stderr="ls: invalid option -- 'e'\nTry 'ls --help' for more information.\n"
subset1_113 stdin="printf printf_lives_in_/usr/bin\n" description="printf printf_lives_in_/usr/bin" expected_stdout="printf_lives_in_/usr/bin/usr/bin/printf exit status = 0\n"
subset1_114 stdin="cd /dev\n/bin/ls -s null\n" description="cd /dev; /bin/ls -s null" expected_stdout="0 null\n/bin/ls exit status = 0\n"
subset1_115 stdin="cd /usr/bin\n./printf this_should_run_/usr/bin_printf\n" description="cd /usr/bin; ./printf this_should_run_/usr/bin_printf" expected_stdout="this_should_run_/usr/bin_printf./printf exit status = 0\n"
subset1_116 stdin="cd /bin\n./printf this_should_fail_because_there_is_no_/bin/printf\n" description="cd /bin; ./printf this_should_fail_because_there_is_no_/bin/printf" expected_stderr="./printf: command not found\n"
subset1_117 stdin="cd /usr/bin\n../../bin/echo pathnames can contain ..\n" description="cd /usr/bin; ../../bin/echo pathnames can contain .." expected_stdout="pathnames can contain ..\n../../bin/echo exit status = 0\n"
command="PATH=/usr/bin ./cowrie"
subset1_118 stdin="/bin/echo this will work even though /bin is not in PATH\n" description="/bin/echo this will work even though /bin is not in PATH" expected_stdout="this will work even though /bin is not in PATH\n/bin/echo exit status = 0\n"
command="PATH=/usr/bin:/usr/local/bin ./cowrie"
subset1_119 stdin="echo this will fail because /bin is not in PATH\n" description="echo this will fail because /bin is not in PATH" expected_stderr="echo: command not found\n"
command="PATH=/home/cs1521/test_bin:/usr/bin ./cowrie"
subset1_120 stdin="echo this should run /home/cs1521/test_bin/echo\n" description="echo this should run /home/cs1521/test_bin/echo" expected_stdout="this output is from test_bin/echo\n/home/cs1521/test_bin/echo exit status = 0\n"
command="PATH=/home/cs1521/test_bin:/usr/bin ./cowrie"
subset1_121 stdin="cd /bin\necho this should run /home/cs1521/test_bin/echo\n" description="cd /bin; echo this should run /home/cs1521/test_bin/echo" expected_stdout="this output is from test_bin/echo\n/home/cs1521/test_bin/echo exit status = 0\n"
command="PATH=/home/cs1521/test_bin:/usr/bin ./cowrie"
subset1_122 stdin="cd /bin\n./echo this should run /bin/echo\n" description="cd /bin; ./echo this should run /bin/echo" expected_stdout="this should run /bin/echo\n./echo exit status = 0\n"
command="export PATH=/usr/bin:/home/cs1521/test_bin; ./cowrie"
subset1_123 stdin="echo this should run /home/cs1521/test_bin/echo\n" description="echo this should run /home/cs1521/test_bin/echo" expected_stdout="this output is from test_bin/echo\n/home/cs1521/test_bin/echo exit status = 0\n"
compilers="1521 dcc-2.6.4 -fsanitize=valgrind -Werror"
subset1_124 stdin="echo checking for uninitialized variables\n" description="echo checking for uninitialized variables" expected_stdout="this output is from test_bin/echo\n/home/cs1521/test_bin/echo exit status = 0\n"
compilers="dcc -fsanitize=address -Werror"
command="rm -f $HOME/.cowrie_history; ./cowrie"
subset2_200 stdin="echo command 1\necho command 2\nhistory\n" description="echo command 1; echo command 2; history" expected_stdout="command 1\n/bin/echo exit status = 0\ncommand 2\n/bin/echo exit status = 0\n0: echo command 1\n1: echo command 2\n"
command="rm -f $HOME/.cowrie_history; ./cowrie"
subset2_201 stdin="echo command 1\necho command 2\nhistory 1\n" description="echo command 1; echo command 2; history 1" expected_stdout="command 1\n/bin/echo exit status = 0\ncommand 2\n/bin/echo exit status = 0\n1: echo command 2\n"
subset2_202 stdin="echo command 1\n!0\n" description="echo command 1; !0" expected_stdout="command 1\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\n"
subset2_203 stdin="echo command 1\n!\n" description="echo command 1; !" expected_stdout="command 1\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\n"
subset2_204 stdin="echo command 1\n!0\necho command 1\n!\necho command 2\n!1\n!2\n!3\nhistory\n" description="echo command 1; !0; echo command 1; !; echo command 2; !1; !2; !3; history" expected_stdout="command 1\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\ncommand 1\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\ncommand 2\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\necho command 1\ncommand 1\n/bin/echo exit status = 0\n0: echo command 1\n1: echo command 1\n2: echo command 1\n3: echo command 1\n4: echo command 2\n5: echo command 1\n6: echo command 1\n7: echo command 1\n"
command="rm -f $HOME/.cowrie_history; ./cowrie; cat -n $HOME/.cowrie_history"
subset2_205 stdin="echo command 1\necho command 2\necho command 3\n" description="echo command 1; echo command 2; echo command 3" expected_stdout="command 1\n/bin/echo exit status = 0\ncommand 2\n/bin/echo exit status = 0\ncommand 3\n/bin/echo exit status = 0\n     1\x09echo command 1\n     2\x09echo command 2\n     3\x09echo command 3\n"
max_lines_shown=50
command="rm -f $HOME/.cowrie_history; ./cowrie"
subset2_206 stdin="echo command 1\necho command 2\necho command 3\necho command 4\necho command 5\necho command 6\necho command 7\necho command 8\necho command 9\necho command 10\necho command 11\necho command 12\nhistory\nhistory 3\n!5\n!\n!7\n" description="echo command 1; echo command 2; echo command 3; echo command 4; echo command 5; echo command 6; echo command 7; echo command 8; echo command 9; echo command 10; echo command 11; echo command 12; history; history 3; !5; !; !7" expected_stdout="command 1\n/bin/echo exit status = 0\ncommand 2\n/bin/echo exit status = 0\ncommand 3\n/bin/echo exit status = 0\ncommand 4\n/bin/echo exit status = 0\ncommand 5\n/bin/echo exit status = 0\ncommand 6\n/bin/echo exit status = 0\ncommand 7\n/bin/echo exit status = 0\ncommand 8\n/bin/echo exit status = 0\ncommand 9\n/bin/echo exit status = 0\ncommand 10\n/bin/echo exit status = 0\ncommand 11\n/bin/echo exit status = 0\ncommand 12\n/bin/echo exit status = 0\n2: echo command 3\n3: echo command 4\n4: echo command 5\n5: echo command 6\n6: echo command 7\n7: echo command 8\n8: echo command 9\n9: echo command 10\n10: echo command 11\n11: echo command 12\n10: echo command 11\n11: echo command 12\n12: history\necho command 6\ncommand 6\n/bin/echo exit status = 0\necho command 6\ncommand 6\n/bin/echo exit status = 0\necho command 8\ncommand 8\n/bin/echo exit status = 0\n"
max_lines_shown=32
command="./cowrie"
subset2_207 stdin="history nonnumber\n" description="history nonnumber" expected_stderr="history: nonnumber: numeric argument required\n"
command="./cowrie"
subset2_208 stdin="history 1 1\n" description="history 1 1" expected_stderr="history: too many arguments\n"
command="rm -rf tmp; mkdir tmp; cd tmp; touch a.s cat.c cat.h README readme .hidden; ../cowrie"
subset3_300 stdin="echo *\necho *.? *.s ???\necho *[aeio]*\n" description="echo *; echo *.? *.s ???; echo *[aeio]*" expected_stdout="README a.s cat.c cat.h readme\n/bin/echo exit status = 0\na.s cat.c cat.h a.s a.s\n/bin/echo exit status = 0\na.s cat.c cat.h readme\n/bin/echo exit status = 0\n"
command="rm -f $HOME/.cowrie_history;rm -rf tmp; mkdir tmp; cd tmp; touch a.s cat.c cat.h README readme .hidden; ../cowrie"
subset3_301 stdin="echo *.[ch]\n!0\n!\nhistory\n" description="echo *.[ch]; !0; !; history" expected_stdout="cat.c cat.h\n/bin/echo exit status = 0\necho *.[ch]\ncat.c cat.h\n/bin/echo exit status = 0\necho *.[ch]\ncat.c cat.h\n/bin/echo exit status = 0\n0: echo *.[ch]\n1: echo *.[ch]\n2: echo *.[ch]\n"
command="rm -f $HOME/.cowrie_history;./cowrie"
subset3_302 stdin="echo ~root\nhistory\n" description="echo ~root; history" expected_stdout="/root\n/bin/echo exit status = 0\n0: echo ~root\n"
compilers="1521 dcc-2.6.4 -fsanitize=valgrind -Werror"
command="rm -f $HOME/.cowrie_history;./cowrie"
subset3_303 stdin="cd /dev\nhistory\n" description="cd /dev; history" expected_stdout="0: cd /dev\n"
compilers="dcc -fsanitize=address -Werror"
command="./cowrie; head -3 <a.txt"
subset4_400 stdin="seq 10 15 >a.txt\n" description="seq 10 15 >a.txt" expected_stdout="/usr/bin/seq exit status = 0\n10\n11\n12\n"
command="seq 10 13 >b.txt; ./cowrie; head -3 <b.txt"
subset4_401 stdin="seq 10 15 >b.txt\n" description="seq 10 15 >b.txt" expected_stdout="/usr/bin/seq exit status = 0\n10\n11\n12\n"
command="seq 10 15 >c.txt; ./cowrie"
subset4_402 stdin="<c.txt head -3\n" description="<c.txt head -3" expected_stdout="10\n11\n12\n/usr/bin/head exit status = 0\n"
command="seq 10 13 >d.txt; ./cowrie; head -5 <d.txt"
subset4_403 stdin="seq 42 44 >>d.txt\n" description="seq 42 44 >>d.txt" expected_stdout="/usr/bin/seq exit status = 0\n10\n11\n12\n13\n42\n"
command="./cowrie"
subset4_404 stdin="seq 1 3 >e.txt\n<e.txt head -2\nseq 11 13 >>e.txt\n<e.txt tail -4\nseq 14  18 >e.txt\n<e.txt head -2\n" description="seq 1 3 >e.txt; <e.txt head -2; seq 11 13 >>e.txt; <e.txt tail -4; seq 14  18 >e.txt; <e.txt head -2" expected_stdout="/usr/bin/seq exit status = 0\n1\n2\n/usr/bin/head exit status = 0\n/usr/bin/seq exit status = 0\n3\n11\n12\n13\n/usr/bin/tail exit status = 0\n/usr/bin/seq exit status = 0\n14\n15\n/usr/bin/head exit status = 0\n"
subset4_405 stdin="history >/dev/null\n</dev/null cd\npwd >a\n" description="history >/dev/null; </dev/null cd; pwd >a" expected_stderr="history: I/O redirection not permitted for builtin commands\ncd: I/O redirection not permitted for builtin commands\npwd: I/O redirection not permitted for builtin commands\n"
compilers="1521 dcc-2.6.4 -fsanitize=valgrind -Werror"
subset4_406 stdin="echo hello >pwd\n<pwd cat >cd\ncat cd pwd >history\n<history cat\n" description="echo hello >pwd; <pwd cat >cd; cat cd pwd >history; <history cat" expected_stdout="/bin/echo exit status = 0\n/bin/cat exit status = 0\n/bin/cat exit status = 0\nhello\nhello\n/bin/cat exit status = 0\n"
compilers="dcc -fsanitize=address -Werror"
subset5_500 stdin="seq 40 50|grep 42\n" description="seq 40 50|grep 42" expected_stdout="42\n/bin/grep exit status = 0\n"
subset5_501 stdin="seq 15 45|grep 4|grep -v 42|tail -3\n" description="seq 15 45|grep 4|grep -v 42|tail -3" expected_stdout="43\n44\n45\n/usr/bin/tail exit status = 0\n"
compilers="1521 dcc-2.6.4 -fsanitize=valgrind -Werror"
command="seq 1 100 >j.txt; ./cowrie; head -5 <k.txt"
subset5_502 stdin="<j.txt grep 4|head|tail -7 >k.txt\n" description="<j.txt grep 4|head|tail -7 >k.txt" expected_stdout="/usr/bin/tail exit status = 0\n34\n40\n41\n42\n43\n"
